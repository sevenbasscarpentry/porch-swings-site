<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Gallery — Seven Bass Carpentry</title>
  <meta name="description" content="Vertical gallery of handcrafted porch bed swings by Seven Bass Carpentry.">
  <meta name="theme-color" content="#0b0b0b">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { --sb-border: 220 13% 90%; }
    html { scroll-behavior: smooth; }
    body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }
    .container { max-width: 1200px; margin-inline: auto; padding-inline: 1rem; }
    .nav-link { letter-spacing: .06em; text-transform: uppercase; font-size: .82rem; color: rgb(23 23 23); }
    .nav-link:hover { color: rgb(5 150 105); }
    .card { border: 1px solid hsl(var(--sb-border)); border-radius: 1.25rem; background: white; box-shadow: 0 1px 2px rgba(0,0,0,.03); }
    .btn { border-radius: 9999px; padding: .7rem 1.1rem; font-weight: 600; }
    .btn-primary { background: rgb(5 150 105); color: white; }
    .btn-primary:hover { background: rgb(4 120 87); }
    .btn-ghost { border: 1px solid hsl(var(--sb-border)); }
    .muted { color: rgb(82 82 82); }
    .h1 { font-size: clamp(2rem, 3.4vw, 3.2rem); line-height: 1.1; font-weight: 800; }
    .h2 { font-size: clamp(1.6rem, 2.6vw, 2.2rem); font-weight: 800; }
    .h3 { font-size: 1.125rem; font-weight: 700; }
    .img-fit { width: 100%; height: auto; display: block; }
    .shadow-soft { box-shadow: 0 10px 30px rgba(0,0,0,.04); }
    /* Prevent horizontal spill */
    html, body { overflow-x: hidden; }
  </style>
</head>
<body class="bg-neutral-50 text-neutral-900">
  <!-- Header -->
  <header class="sticky top-0 z-40 bg-white/90 backdrop-blur border-b border-neutral-200">
    <div class="container h-16 flex items-center justify-between">
      <a href="/" class="flex items-center gap-3">
        <img src="/assets/logo5_stamp.png" alt="Seven Bass Carpentry" class="h-7 w-auto"
             onerror="this.onerror=null;this.src='/assets/logo5_stamp.svg'">
        <span class="font-semibold tracking-wide">Seven Bass Carpentry</span>
      </a>
      <nav class="hidden md:flex items-center gap-6">
        <a href="/gallery.html" class="nav-link">Gallery</a>
        <a href="/#contact" class="nav-link">Contact</a>
      </nav>
      <div class="flex items-center gap-2">
        <a href="/#contact" class="hidden md:inline-flex btn btn-primary">Get a Quote</a>
        <button id="mBtn" class="md:hidden inline-flex items-center justify-center h-10 w-10 rounded-xl border border-neutral-200" aria-label="Open menu">☰</button>
      </div>
    </div>
    <div id="mNav" class="hidden md:hidden border-t border-neutral-200 bg-white">
      <nav class="container py-3 grid gap-2">
        <a class="py-2 nav-link" href="/gallery.html">Gallery</a>
        <a class="py-2 nav-link" href="/#contact">Contact</a>
      </nav>
    </div>
  </header>

  <section class="container py-10">
    <div class="flex flex-col lg:flex-row gap-8">
      <!-- Main vertical list -->
      <main class="flex-1 min-w-0">
        <div class="flex flex-wrap gap-2 items-center">
          <span class="text-sm muted">Filter by type:</span>
          <div id="chips" class="flex flex-wrap gap-2"></div>
          <button id="clear" class="text-sm underline text-emerald-700 ml-auto">Clear</button>
          <div class="flex items-center gap-2 ml-4">
            <label for="auto" class="text-sm muted">Auto-scroll</label>
            <input id="auto" type="checkbox" class="h-4 w-4 accent-emerald-600" checked>
          </div>
        </div>

        <div id="list" class="mt-6 grid gap-6">
          <!-- cards injected -->
        </div>
      </main>

      <!-- Sticky info pane -->
      <aside class="lg:w-[340px] lg:sticky lg:top-24 self-start">
        <div class="card p-6">
          <h2 class="h3">Details</h2>
          <dl class="mt-3 text-sm grid grid-cols-1 gap-1">
            <div><dt class="muted">Type</dt><dd id="dType" class="font-medium"></dd></div>
            <div><dt class="muted">Finish</dt><dd id="dFinish" class="font-medium"></dd></div>
            <div><dt class="muted">Hanging</dt><dd id="dHanging" class="font-medium"></dd></div>
            <div><dt class="muted">Size</dt><dd id="dSize" class="font-medium"></dd></div>
            <div><dt class="muted">City</dt><dd id="dCity" class="font-medium"></dd></div>
          </dl>
          <p id="dNotes" class="mt-3 text-sm muted"></p>
          <a href="/#contact" class="btn btn-primary mt-4">Get a similar build</a>
          <a href="https://www.facebook.com/profile.php?id=61567707656819&sk=photos" target="_blank" class="block mt-3 text-sm underline text-emerald-700">See more photos on Facebook</a>
        </div>
      </aside>
    </div>
  </section>

  <footer class="border-t border-neutral-200 bg-white">
    <div class="container py-10 text-sm flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
      <p>© 2024 Seven Bass Carpentry. All rights reserved.</p>
      <p><a href="/#contact" class="underline text-emerald-700">Request a quote</a></p>
    </div>
  </footer>

  <script id="gallery-data" type="application/json">
[
  {
    "src": "/assets/gallery-01.webp",
    "alt": "Seven Bass Carpentry \u2014 Project 1",
    "type": "Twin Bed Swing",
    "finish": "Painted",
    "hanging": "Rope",
    "size": "Twin",
    "city": "Georgia",
    "notes": "Handcrafted porch bed swing built to order; delivered and installed."
  },
  {
    "src": "/assets/gallery-02.webp",
    "alt": "Seven Bass Carpentry \u2014 Project 2",
    "type": "Twin XL Bed Swing",
    "finish": "Stained",
    "hanging": "Chain (Galv)",
    "size": "Twin XL",
    "city": "Georgia",
    "notes": "Handcrafted porch bed swing built to order; delivered and installed."
  },
  {
    "src": "/assets/gallery-03.webp",
    "alt": "Seven Bass Carpentry \u2014 Project 3",
    "type": "Full Bed Swing",
    "finish": "Natural/Clear",
    "hanging": "Chain (Stainless)",
    "size": "Full",
    "city": "Georgia",
    "notes": "Handcrafted porch bed swing built to order; delivered and installed."
  },
  {
    "src": "/assets/gallery-04.webp",
    "alt": "Seven Bass Carpentry \u2014 Project 4",
    "type": "Daybed Swing (Backless)",
    "finish": "Painted",
    "hanging": "Rope",
    "size": "Twin",
    "city": "Georgia",
    "notes": "Handcrafted porch bed swing built to order; delivered and installed."
  },
  {
    "src": "/assets/gallery-05.webp",
    "alt": "Seven Bass Carpentry \u2014 Project 5",
    "type": "Classic Bench Swing",
    "finish": "Stained",
    "hanging": "Chain (Galv)",
    "size": "Twin XL",
    "city": "Georgia",
    "notes": "Handcrafted porch bed swing built to order; delivered and installed."
  },
  {
    "src": "/assets/gallery-06.webp",
    "alt": "Seven Bass Carpentry \u2014 Project 6",
    "type": "Custom Size",
    "finish": "Natural/Clear",
    "hanging": "Chain (Stainless)",
    "size": "Custom",
    "city": "Georgia",
    "notes": "Handcrafted porch bed swing built to order; delivered and installed."
  },
  {
    "src": "/assets/gallery-07.webp",
    "alt": "Seven Bass Carpentry \u2014 Project 7",
    "type": "Twin Bed Swing",
    "finish": "Painted",
    "hanging": "Rope",
    "size": "Twin",
    "city": "Georgia",
    "notes": "Handcrafted porch bed swing built to order; delivered and installed."
  },
  {
    "src": "/assets/gallery-08.webp",
    "alt": "Seven Bass Carpentry \u2014 Project 8",
    "type": "Twin XL Bed Swing",
    "finish": "Stained",
    "hanging": "Chain (Galv)",
    "size": "Twin XL",
    "city": "Georgia",
    "notes": "Handcrafted porch bed swing built to order; delivered and installed."
  },
  {
    "src": "/assets/gallery-09.webp",
    "alt": "Seven Bass Carpentry \u2014 Project 9",
    "type": "Full Bed Swing",
    "finish": "Natural/Clear",
    "hanging": "Chain (Stainless)",
    "size": "Full",
    "city": "Georgia",
    "notes": "Handcrafted porch bed swing built to order; delivered and installed."
  },
  {
    "src": "/assets/gallery-10.webp",
    "alt": "Seven Bass Carpentry \u2014 Project 10",
    "type": "Daybed Swing (Backless)",
    "finish": "Painted",
    "hanging": "Rope",
    "size": "Twin",
    "city": "Georgia",
    "notes": "Handcrafted porch bed swing built to order; delivered and installed."
  },
  {
    "src": "/assets/gallery-11.webp",
    "alt": "Seven Bass Carpentry \u2014 Project 11",
    "type": "Classic Bench Swing",
    "finish": "Stained",
    "hanging": "Chain (Galv)",
    "size": "Twin XL",
    "city": "Georgia",
    "notes": "Handcrafted porch bed swing built to order; delivered and installed."
  },
  {
    "src": "/assets/gallery-12.webp",
    "alt": "Seven Bass Carpentry \u2014 Project 12",
    "type": "Custom Size",
    "finish": "Natural/Clear",
    "hanging": "Chain (Stainless)",
    "size": "Custom",
    "city": "Georgia",
    "notes": "Handcrafted porch bed swing built to order; delivered and installed."
  },
  {
    "src": "/assets/gallery-13.webp",
    "alt": "Seven Bass Carpentry \u2014 Project 13",
    "type": "Twin Bed Swing",
    "finish": "Painted",
    "hanging": "Rope",
    "size": "Twin",
    "city": "Georgia",
    "notes": "Handcrafted porch bed swing built to order; delivered and installed."
  },
  {
    "src": "/assets/gallery-14.webp",
    "alt": "Seven Bass Carpentry \u2014 Project 14",
    "type": "Twin XL Bed Swing",
    "finish": "Stained",
    "hanging": "Chain (Galv)",
    "size": "Twin XL",
    "city": "Georgia",
    "notes": "Handcrafted porch bed swing built to order; delivered and installed."
  }
]
  </script>
  <script>
    // Mobile nav
    const mBtn = document.getElementById('mBtn');
    const mNav = document.getElementById('mNav');
    if (mBtn) mBtn.addEventListener('click', () => mNav.classList.toggle('hidden'));

    const data = JSON.parse(document.getElementById('gallery-data').textContent);
    const list = document.getElementById('list');
    const chips = document.getElementById('chips');
    const clearBtn = document.getElementById('clear');

    const types = ["Twin Bed Swing","Twin XL Bed Swing","Full Bed Swing","Daybed Swing (Backless)","Classic Bench Swing","Custom Size"];
    let filterType = null;

    function chip(label) {
      const a = document.createElement('button');
      a.type = 'button';
      a.className = 'px-3 py-1 rounded-full border border-neutral-200 bg-white hover:bg-neutral-50 text-sm';
      a.textContent = label;
      a.onclick = () => setFilter(label);
      return a;
    }

    function setFilter(t) {
      filterType = (filterType === t) ? null : t;
      render();
      updateHash();
    }

    function updateHash() {
      if (filterType) location.hash = 'type=' + encodeURIComponent(filterType);
      else history.replaceState(null, '', location.pathname);
    }

    function fromHash() {
      const m = location.hash.match(/type=(.+)$/);
      if (m) filterType = decodeURIComponent(m[1]); else filterType = null;
    }

    function cardHTML(item, idx) {
      return `<figure id="card-${idx}" class="card overflow-hidden">
        <picture>
          <source srcset="${item.src}" type="image/webp">
          <img loading="lazy" src="${item.src}" alt="${item.alt}" class="img-fit">
        </picture>
        <figcaption class="p-5 flex flex-col gap-1">
          <div class="flex items-center justify-between">
            <span class="h3">${item.type}</span>
            <span class="text-xs px-2 py-1 rounded-full border border-neutral-200 bg-neutral-50">${item.size}</span>
          </div>
          <p class="text-sm muted">${item.finish} • ${item.hanging} • ${item.city}</p>
          <details class="mt-1">
            <summary class="text-sm underline cursor-pointer">More info</summary>
            <p class="text-sm muted mt-2">${item.notes}</p>
          </details>
        </figcaption>
      </figure>`;
    }

    let filtered = data.slice();
    function render() {
      filtered = filterType ? data.filter(d => d.type === filterType) : data.slice();
      list.innerHTML = filtered.map((it, i) => cardHTML(it, i)).join('');
      // Update details to first card
      setDetails(0);
      observeCards();
    }

    // Sticky details
    const dType = document.getElementById('dType');
    const dFinish = document.getElementById('dFinish');
    const dHanging = document.getElementById('dHanging');
    const dSize = document.getElementById('dSize');
    const dCity = document.getElementById('dCity');
    const dNotes = document.getElementById('dNotes');

    function setDetails(idx) {
      const it = filtered[idx];
      if (!it) return;
      dType.textContent   = it.type;
      dFinish.textContent = it.finish || '—';
      dHanging.textContent= it.hanging || '—';
      dSize.textContent   = it.size || '—';
      dCity.textContent   = it.city || '—';
      dNotes.textContent  = it.notes || '';
    }

    // Observe which card is centered-ish in viewport
    let io;
    function observeCards() {
      if (io) io.disconnect();
      io = new IntersectionObserver((entries) => {
        entries.forEach(e => {
          if (e.isIntersecting) {
            const idx = Array.from(list.children).indexOf(e.target);
            if (idx >= 0) setDetails(idx);
          }
        });
      }, { root: null, threshold: 0.6 });
      list.querySelectorAll('figure').forEach(f => io.observe(f));
    }

    // Chips init
    types.forEach(t => chips.appendChild(chip(t)));
    clearBtn.onclick = () => setFilter(null);

    // Auto-scroll (vertical)
    const auto = document.getElementById('auto');
    let timer = null;
    function startAuto() {
      stopAuto();
      timer = setInterval(() => {
        // Find current in view; scroll to next
        const cards = Array.from(list.children);
        let target = 0;
        for (let i = 0; i < cards.length; i++) {
          const r = cards[i].getBoundingClientRect();
          if (r.top >= 0 && r.top < window.innerHeight * 0.5) { target = i + 1; }
        }
        if (target >= cards.length) target = 0;
        const el = cards[target];
        if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }, 5000);
    }
    function stopAuto() { if (timer) { clearInterval(timer); timer = null; } }
    auto.addEventListener('change', () => auto.checked ? startAuto() : stopAuto());
    window.addEventListener('blur', stopAuto);
    window.addEventListener('focus', () => auto.checked && startAuto());

    // Pause on interaction
    window.addEventListener('wheel', stopAuto, { passive: true });
    window.addEventListener('touchstart', stopAuto, { passive: true });

    // Init
    fromHash();
    render();
    if (auto.checked) startAuto();
  </script>
</body>
</html>
